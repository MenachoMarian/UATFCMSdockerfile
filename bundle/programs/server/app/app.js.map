{"version":3,"sources":["meteor://ðŸ’»app/lib/routes.js","meteor://ðŸ’»app/collections/cmscollections.js","meteor://ðŸ’»app/server/methods.js","meteor://ðŸ’»app/server/publications.js","meteor://ðŸ’»app/server/main.js"],"names":["checkSitio","idSitio","Meteor","call","error","result","check","FlowRouter","go","rol","checkRolUser","res","checkRolRoot","route","trackUser","ipPublic","$","getJSON","json","ip","version","navigator","appVersion","obj","console","log","subscriptions","params","queryParams","alert","logout","action","BlazeLayout","render","register","subscribe","contentroot","userId","titulo","templateadmin","idMenu","idCont","idmenuenlace","banner","content","set","renderfoot","menu","submenu","name","contenido","module","watch","require","v","FilesCollection","Mongo","SITIO","Collection","sitioSchema","SimpleSchema","type","String","carrera","creado","Date","autoValue","estado","admin","attachSchema","BANNER","bannerSchema","tipo","texto","imagen","textoPersonalizado","CARROUSEL","carrouselSchema","link","optional","HEADER","headerSchema","subtitulo","tipoFondo","fondo","fuente","logo1","logo2","posicion","NAVBAR","navbarSchema","color","MENU","menuSchema","nombre","SUBMENU","submenuSchema","CUERPO","cuerpoSchema","CONTENIDO","contenidoSchema","ruta","descripcion","contenidoHtml","imagenDesc","comentarios","visible","lastEdit","COMENTARIO","comentarioSchema","idContenido","idUsuario","SIDEBARMENU","sidebarMenuSchema","html","MENUENLACE","menuenlaceSchema","ENLACE","enlaceSchema","url","FOOTER","footerSchema","FOOTERLINKS","footerlinksSchema","icono","defaultSchema","size","Number","path","isVideo","Boolean","isAudio","isImage","isText","isJSON","isPDF","extension","_storagePath","_downloadRoute","_collectionName","meta","Object","updatedAt","versions","blackbox","newMeta","_","extend","IMAGES","collectionName","allowClientCode","schema","storagePath","downloadRoute","allowClient","onBeforeUpload","file","test","collection","AVATARS","VIDEOS","ARCHIVOS","startup","reCAPTCHA","config","privatekey","methods","checkBan","user","users","findOne","_id","undefined","checkCaptcha","captchaData","verifyCaptchaResponse","verifyCaptcha","connection","clientAddress","success","Error","email","rootUs","username","Roles","addUsersToRoles","checkRol","userIsInRole","setRol","idUser","changeRol","setUserRoles","sitio","checkIfExistSitio","checkIfExistMenu","insertSitio","response","insert","getFullYear","checkSiteRoute","sitioAdmin","sitioExist","redirectUser","ipLocal","crearUser","newUser","password","profile","surname","online","bloqueado","img","account","Accounts","createUser","darEstado","id","update","$set","changeAdmin","setNewPassword","newPassword","setPassword","editUser","editHeader","bannerChange","carrusel","insertCarrusel","e","r","editCarrusel","editBannerHtml","editBanner","navbarChange","insertMenu","editMenu","darEstadoMenu","darEstadoSubmenu","insSubmenu","editSubmenu","changeColorBody","insContent","editContent","visibilityContent","insComentario","banComentUser","sidebarChange","editsidebarHtml","insMenuEnlace","contador","find","count","darEstadoSidebar","insEnlace","editmenuenlace","idmenu","editEnlace","idenlace","eliEnlace","remove","editFooter","idfooter","editFooterHtml","footerChange","insLinkFooter","editLinkFooter","idlink","eliLinkFooter","publishComposite","publish","idSubMenu","cursor","tituloSitio","linkMenu","linkSubmenu","limit","tipoMenu","children","coment","fields","HTTP_FORWARDED_COUNT"],"mappings":"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","file":"/app.js","sourcesContent":["\nfunction checkSitio(idSitio){\n\tMeteor.call('checkSiteRoute', idSitio, function (error, result) {\n\t\t\tif (result.check == false) {\n\t\t\t\tFlowRouter.go('/'+result.rol);\t\t\t\t\n\t\t\t}\n\t\t});\n}\nfunction checkRolUser(){\n\tMeteor.call('redirectUser', 1, function (error, result) {\t\t\n\t\tif (result.res == true) {\n\t\t\tFlowRouter.go('/'+result.rol);\n\t\t\t//redirecciona al usuario segun su ROL o a la pagina principal si no inicio sesion\n\t\t}\n\t});\n}\nfunction checkRolRoot(){\n\tMeteor.call('checkRolRoot', 1, function (error, result) {\t\t\n\t\tif (result.res == false) {\n\t\t\tFlowRouter.go('/'+result.route);\n\t\t}\n\t});\n}\n\nfunction trackUser(){\n\tvar ipPublic;\t\n\t$.getJSON(\"https://api.ipify.org?format=jsonp&callback=?\",function(json){\n\t\t\n\t\tipPublic = json.ip;\n\t\tvar version = navigator.appVersion;\n\n\t\tvar obj = {\n\t\t\tversion : version,\n\t\t\tipPublic : ipPublic\n\t\t};\n\t\tconsole.log(obj);\n\t\tMeteor.call('trackUser', 1, function (error, result) {\n\t\t\t//console.log(result);\n\t\t});\n\t});\n\t//console.log(ipPublic);\n\n}\nFlowRouter.subscriptions = function(params,queryParams) {\n        \n\t\t\n\t\t//console.log(params);\n        /*this.register(\"getnotificacionesr\",Meteor.subscribe(\"getnotificacionesr\"));\n        this.register(\"getNotificaciones\",Meteor.subscribe(\"getNotificaciones\"));\n        this.register(\"getNotVistas\",Meteor.subscribe(\"getNotVistas\"));*/\n        \n\t\tMeteor.call('checkBan', 1, function (error, result) {\n\t\t\tif (result) {\n\t\t\t\talert('Usted ha sido baneado');\n\t\t\t\tMeteor.logout();\n\t\t\t}\n\t\t});\n}\nFlowRouter.route(\"/\",{\n\t\n\taction : function(params,queryParams) {\n\n\tcheckRolUser();\t\n\n\tBlazeLayout.render(\"raiz\");\n\t}\n});\n\n//rutas del usuario root\nFlowRouter.route(\"/perfil\",{\n\tsubscriptions : function(params,queryParams){\n\t\t\n\t\tthis.register(\"getUser\",Meteor.subscribe('getUser'));\n\t},\n\n\taction : function(params,queryParams) {\n\t\t\n\t\tBlazeLayout.render(\"perfil\");\n\t}\n});\nFlowRouter.route(\"/root\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getUsers\",Meteor.subscribe('getUsers'));\n\t},\n\n\taction : function(params,queryParams) {\n\t\tcheckRolRoot();\t\n\t\tBlazeLayout.render(\"root\",{contentroot:'sitioslist'});\n\t}\n});\nFlowRouter.route(\"/root/sitios\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getUsers\",Meteor.subscribe('getUsers'));\n\t},\n\t\n\taction : function(params,queryParams) {\n\t\tcheckRolRoot();\t\n\t\tBlazeLayout.render(\"root\",{contentroot:'sitios'});\n\t}\n});\nFlowRouter.route(\"/root/usuarios\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getUsers\",Meteor.subscribe('getUsers'));\n\t},\n\t\n\taction : function(params,queryParams) {\n\t\tcheckRolRoot();\t\n\t\tBlazeLayout.render(\"root\",{contentroot:'usuarios'});\n\t}\n});\n\nFlowRouter.route(\"/root/reportes\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\t//this.register(\"getInteg\",Meteor.subscribe('getInteg'));\n\t},\t\n\taction : function(params,queryParams) {\n\t\t\n\t\tcheckRolRoot();\t\n\n\t\tBlazeLayout.render(\"root\",{contentroot:'reportes'});\n\t\t\n\t}\n});\nFlowRouter.route(\"/admin\",{\n\n\tsubscriptions : function(params,queryParams){\n\t\n\n\t\tthis.register(\"getSitiosAdmin\",Meteor.subscribe('getSitiosAdmin',Meteor.userId()));\n\t\t\n\t\t//console.log(params.user);// tomar en cuenta nombres de sitios reservados root admin u otro\n\t},\n\taction : function(params,queryParams) {\n\t\t\n\t\tcheckRolUser();\n\t\tBlazeLayout.render(\"adminMain\");\n\t}\n});\n//del usuario admin\n\nFlowRouter.route(\"/admin/:titulo\",{\n\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\n\t},\n\taction : function(params,queryParams) {\n\t\t\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'welcomeAdmin'});\n\t}\n});\n\nFlowRouter.route(\"/admin/:titulo/header\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getHeader\",Meteor.subscribe('getHeader',params.titulo));\n\t\t\n\t\t//this.register(\"getCarrusel\",Meteor.subscribe('getCarrusel',params.titulo));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\t\n\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\t\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'headeradmin'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/banner\",{\n\tsubscriptions : function(params,queryParams){\n\t\t\n\t\tthis.register(\"getBanner\",Meteor.subscribe('getBanner',params.titulo));\n\t\tthis.register(\"getCarrusel\",Meteor.subscribe('getCarrusel',params.titulo));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\t\n\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\t\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'banneradmin'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/banner/editcarrusel/:id\",{\n\tsubscriptions : function(params,queryParams){\t\n\t\t\n\t\tthis.register(\"getCarrusel\",Meteor.subscribe('getCarrusel',params.titulo));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\t\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'editcarrusel'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/navbar\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getMenu\",Meteor.subscribe('getMenu',params.titulo));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\tthis.register(\"getNavbar\",Meteor.subscribe('getNavbar',params.titulo));\n\t\tthis.register(\"getSubmenu\",Meteor.subscribe('getSubmenu',params.titulo));\n\t\t\n\t\t//console.log(params);\n\t},\n\taction : function(params,queryParams) {\n\t\t//console.log(myTemplates.get());\n\t\t//myTemplates.set(\"editarmenuenlace\");\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'navbaradmin'})\n\t}\n\t\n});\nFlowRouter.route(\"/admin/:titulo/navbar/nuevo\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getMenu\",Meteor.subscribe('getMenu',params.titulo));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\t//console.log(params);\n\t},\n\taction : function(params,queryParams) {\n\t\t//console.log(myTemplates.get());\n\t\t//myTemplates.set(\"editarmenuenlace\");\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'nuevomenu'})\n\t}\n\t\n});\n/*FlowRouter.route(\"/admin/:titulo/navbar/editar\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\t//console.log(params);\n\t},\n\taction : function(params,queryParams) {\n\t\t//console.log(myTemplates.get());\n\t\t//myTemplates.set(\"editarmenuenlace\");\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'editarmenu'});\n\t}\n});*/\nFlowRouter.route(\"/admin/:titulo/navbar/editarmenu\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getMenu\",Meteor.subscribe('getMenu',params.titulo));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\t//console.log(params);\n\t},\n\taction : function(params,queryParams) {\n\t\t//console.log(myTemplates.get());\n\t\t//myTemplates.set(\"editarmenuenlace\");\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'editarmenu'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/menucontenido\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\tthis.register(\"getMenu\",Meteor.subscribe('getMenu',params.titulo));\n\t\tthis.register(\"getSubmenu\",Meteor.subscribe('getSubmenu',params.titulo));\n\t\tthis.register(\"getCuerpo\",Meteor.subscribe('getCuerpo',params.titulo));\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'contentmenuadmin'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/contenido/:idMenu\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\tthis.register(\"getContenidos\",Meteor.subscribe('getContenidos',params.idMenu));\n\t\tthis.register(\"getOneMenu\",Meteor.subscribe('getOneMenu',params.idMenu));\n\t\tthis.register(\"getOneSubmenu\",Meteor.subscribe('getOneSubmenu',params.idMenu));\n\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'contentadmin'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/newcontenido/:idMenu\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\tthis.register(\"getCuerpo\",Meteor.subscribe('getCuerpo',params.titulo));\n\t\tthis.register(\"getImages\",Meteor.subscribe(\"getImages\",params.titulo));\n        this.register(\"getVideos\",Meteor.subscribe(\"getVideos\",params.titulo));\n\t\tthis.register(\"getArchivos\",Meteor.subscribe(\"getArchivos\",params.titulo));\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'newcontentadmin'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/editcontenido/:idCont\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\tthis.register(\"getContenido\",Meteor.subscribe('getContenido',params.idCont));\n\t\tthis.register(\"getCuerpo\",Meteor.subscribe('getCuerpo',params.titulo));\n\t\tthis.register(\"getImages\",Meteor.subscribe(\"getImages\",params.titulo));\n        this.register(\"getVideos\",Meteor.subscribe(\"getVideos\",params.titulo));\n\t\tthis.register(\"getArchivos\",Meteor.subscribe(\"getArchivos\",params.titulo));\n\t\t//Revisar universo\n\t\t/*this.register(\"getVideos\",Meteor.subscribe(\"getVideos\"));\n\t\tthis.register(\"getArchivos\",Meteor.subscribe(\"getArchivos\"));*/\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'editcontentadmin'});\n\t}\n});\n\nFlowRouter.route(\"/admin/:titulo/sidebar\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getMenuEnlace\",Meteor.subscribe('getMenuEnlace',params.titulo));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\tthis.register(\"getSidebar\",Meteor.subscribe('getSidebar',params.titulo));\n\t\tthis.register(\"getCuerpo\",Meteor.subscribe('getCuerpo',params.titulo));\n\t\tthis.register(\"getImages\",Meteor.subscribe(\"getImages\",params.titulo));\n        this.register(\"getVideos\",Meteor.subscribe(\"getVideos\",params.titulo));\n\t\tthis.register(\"getArchivos\",Meteor.subscribe(\"getArchivos\",params.titulo));\n\t\t\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'sidebaradmin'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/sidebar/nuevomenuenlace\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getSitios\",Meteor.subscribe('getSitios'));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'nuevomenuenlace'});\n\t}\n});\nFlowRouter.route(\"/admin/:titulo/sidebar/editarmenuenlace\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getMenuEnlace\",Meteor.subscribe('getMenuEnlace',params.titulo));\n\t\tthis.register(\"getEnlaces\",Meteor.subscribe('getEnlaces',queryParams.idmenuenlace));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\t//console.log(queryParams);\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'editarmenuenlace'});\n\t}\n});\n\nFlowRouter.route(\"/admin/:titulo/sidebar/editarenlace\",{\n\tsubscriptions : function(params,queryParams){\n\t\t//this.register(\"getMenuEnlace\",Meteor.subscribe('getMenuEnlace',queryParams.id));\n\t\tthis.register(\"getEnlaces\",Meteor.subscribe('getEnlaces',queryParams.idmenuenlace));\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\t//console.log(queryParams);\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'editarenlace'});\n\t}\n});\n\nFlowRouter.route(\"/admin/:titulo/footer\",{\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitio\",Meteor.subscribe('getSitio',params.titulo));\n\t\tthis.register(\"getFooter\",Meteor.subscribe('getFooter',params.titulo));\n\t\tthis.register(\"getFooterLinks\",Meteor.subscribe('getFooterLinks',params.titulo));\n\n\t},\n\taction : function(params,queryParams) {\n\t\tcheckSitio(params.titulo);\n\t\tBlazeLayout.render(\"admin\",{templateadmin:'footeradmin'});\n\t}\n\n});\n\n\n\nFlowRouter.route(\"/:titulo\",{\n\taction : function(params,queryParams) {\n\t\tBlazeLayout.render(\"site\",{banner : \"banner\", content : \"contenthome\"});\n\t},\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitioClient\",Meteor.subscribe('getSitioClient',params.titulo));\n\t\tthis.register(\"getHeaderClient\",Meteor.subscribe('getHeaderClient',params.titulo));\n\t\tthis.register(\"getBannerClient\",Meteor.subscribe('getBannerClient',params.titulo));\n\t\tthis.register(\"getNavbarClient\",Meteor.subscribe('getNavbarClient',params.titulo));\n\t\tthis.register(\"getSubmenuClient\",Meteor.subscribe('getSubmenuClient',params.titulo));\n\t\tthis.register(\"getMenuClient\",Meteor.subscribe('getMenuClient',params.titulo));\n\t\tthis.register(\"getSidebarMenuClient\",Meteor.subscribe('getSidebarMenuClient',params.titulo));\n\t\tthis.register(\"getSidebarClient\",Meteor.subscribe('getSidebarClient',params.titulo));\n\t\tthis.register(\"getMenuenlaceClient\",Meteor.subscribe('getMenuenlaceClient',params.titulo));\n\t\tthis.register(\"getCarruselClient\",Meteor.subscribe('getCarruselClient',params.titulo));\n\t\tthis.register(\"getCuerpoClient\",Meteor.subscribe(\"getCuerpoClient\",params.titulo));\n\t\tthis.register(\"getHomeContentClient1\",Meteor.subscribe('getHomeContentClient1',params.titulo));\n\t\tthis.register(\"getHomeContentClient2\",Meteor.subscribe('getHomeContentClient2',params.titulo));\n\t\tthis.register(\"getFooterClient\",Meteor.subscribe('getFooterClient',params.titulo));\n\t\tthis.register(\"getFooterLinksClient\",Meteor.subscribe('getFooterLinksClient',params.titulo));\n\t},\n\n});\n\nFlowRouter.route(\"/:titulo/:menu\",{\n\taction : function(params,queryParams) {\n\t\trender.set(true);\n\t\trenderfoot.set(true);\n\t\t//console.log(render.get());\n\t\tBlazeLayout.render(\"site\", {content : \"contentmenu\"});\n\t},\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitioClient\",Meteor.subscribe('getSitioClient',params.titulo));\n\t\tthis.register(\"getHeaderClient\",Meteor.subscribe('getHeaderClient',params.titulo));\n\t\t\n\t\tthis.register(\"getNavbarClient\",Meteor.subscribe('getNavbarClient',params.titulo));\n\t\tthis.register(\"getSubmenuClient\",Meteor.subscribe('getSubmenuClient',params.titulo));\n\t\tthis.register(\"getMenuClient\",Meteor.subscribe('getMenuClient',params.titulo));\n\t\tthis.register(\"getSidebarMenuClient\",Meteor.subscribe('getSidebarMenuClient',params.titulo));\n\t\tthis.register(\"getSidebarClient\",Meteor.subscribe('getSidebarClient',params.titulo));\n\t\tthis.register(\"getMenuenlaceClient\",Meteor.subscribe('getMenuenlaceClient',params.titulo));\n\t\t//console.log(params);\n\t\tthis.register(\"getCuerpoClient\",Meteor.subscribe(\"getCuerpoClient\",params.titulo));\n\t\tthis.register(\"getContenidosMenuClient\",Meteor.subscribe('getContenidosMenuClient',params.titulo,params.menu));\n\t\t//this.register(\"getContenidoMenuClient\",Meteor.subscribe('getContenidoMenuClient',params.titulo,params.menu));\n\t\t\n\t\tthis.register(\"getFooterClient\",Meteor.subscribe('getFooterClient',params.titulo));\n\t\tthis.register(\"getFooterLinksClient\",Meteor.subscribe('getFooterLinksClient',params.titulo));\n\t},\n\n});\nFlowRouter.route(\"/:titulo/:menu/:submenu\",{\n\taction : function(params,queryParams) {\n\t\trender.set(true);\n\t\trenderfoot.set(true);\n\t\tBlazeLayout.render(\"site\",{content : \"contentsubmenu\"});\n\t},\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitioClient\",Meteor.subscribe('getSitioClient',params.titulo));\n\t\tthis.register(\"getHeaderClient\",Meteor.subscribe('getHeaderClient',params.titulo));\n\t\t\n\t\tthis.register(\"getNavbarClient\",Meteor.subscribe('getNavbarClient',params.titulo));\n\t\tthis.register(\"getSubmenuClient\",Meteor.subscribe('getSubmenuClient',params.titulo));\n\t\tthis.register(\"getMenuClient\",Meteor.subscribe('getMenuClient',params.titulo));\n\t\t\n\t\tthis.register(\"getSidebarMenuClient\",Meteor.subscribe('getSidebarMenuClient',params.titulo));\n\t\tthis.register(\"getSidebarClient\",Meteor.subscribe('getSidebarClient',params.titulo));\n\t\tthis.register(\"getMenuenlaceClient\",Meteor.subscribe('getMenuenlaceClient',params.titulo));\n\t\t//patch only content\n\t\tthis.register(\"getCuerpoClient\",Meteor.subscribe(\"getCuerpoClient\",params.titulo));\n\t\tthis.register(\"getContenidosSubmenuClient\",Meteor.subscribe('getContenidosSubmenuClient',params.titulo,params.submenu));\n\t\t\n\t\tthis.register(\"getFooterClient\",Meteor.subscribe('getFooterClient',params.titulo));\n\t\tthis.register(\"getFooterLinksClient\",Meteor.subscribe('getFooterLinksClient',params.titulo));\n\t},\n\n});\n\nFlowRouter.route(\"/:titulo/:menu/m/:contenido\",{\n\tname: 'menuContent',\n\taction : function(params,queryParams) {\n\t\t\n\t\tBlazeLayout.render(\"site\",{content : \"contenido\"});\n\t},\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitioClient\",Meteor.subscribe('getSitioClient',params.titulo));\n\t\tthis.register(\"getHeaderClient\",Meteor.subscribe('getHeaderClient',params.titulo));\n\t\t\n\t\tthis.register(\"getNavbarClient\",Meteor.subscribe('getNavbarClient',params.titulo));\n\t\tthis.register(\"getSubmenuClient\",Meteor.subscribe('getSubmenuClient',params.titulo));\n\t\tthis.register(\"getMenuClient\",Meteor.subscribe('getMenuClient',params.titulo));\n\t\tthis.register(\"getSidebarMenuClient\",Meteor.subscribe('getSidebarMenuClient',params.titulo));\n\t\tthis.register(\"getSidebarClient\",Meteor.subscribe('getSidebarClient',params.titulo));\n\t\tthis.register(\"getMenuenlaceClient\",Meteor.subscribe('getMenuenlaceClient',params.titulo));\n\t\tthis.register(\"getCuerpoClient\",Meteor.subscribe(\"getCuerpoClient\",params.titulo));\n\t\tthis.register(\"getMContentClient\",Meteor.subscribe('getMContentClient',params.titulo,params.menu,params.contenido));\n\t\t\n\t\tthis.register(\"getComentsClient\",Meteor.subscribe('getComentsClient',params.titulo,params.menu,params.contenido,'menu'));\n\t\t\n\t\tthis.register(\"getFooterClient\",Meteor.subscribe('getFooterClient',params.titulo));\n\t\tthis.register(\"getFooterLinksClient\",Meteor.subscribe('getFooterLinksClient',params.titulo));\n\t},\n\n});\n\nFlowRouter.route(\"/:titulo/:menu/:submenu/:contenido\",{\n\n\taction : function(params,queryParams) {\n\t\t\n\n\t\tBlazeLayout.render(\"site\",{content : \"contenido\"});\n\t},\n\tsubscriptions : function(params,queryParams){\n\t\tthis.register(\"getSitioClient\",Meteor.subscribe('getSitioClient',params.titulo));\n\t\tthis.register(\"getHeaderClient\",Meteor.subscribe('getHeaderClient',params.titulo));\n\t\t\n\t\tthis.register(\"getNavbarClient\",Meteor.subscribe('getNavbarClient',params.titulo));\n\t\tthis.register(\"getSubmenuClient\",Meteor.subscribe('getSubmenuClient',params.titulo));\n\t\tthis.register(\"getMenuClient\",Meteor.subscribe('getMenuClient',params.titulo));\n\t\tthis.register(\"getCuerpoClient\",Meteor.subscribe(\"getCuerpoClient\",params.titulo));\n\t\tthis.register(\"getSContentClient\",Meteor.subscribe('getSContentClient',params.titulo,params.submenu,params.contenido));\n\t\tthis.register(\"getComentsClient\",Meteor.subscribe('getComentsClient',params.titulo,params.submenu,params.contenido,'submenu'));\n\t\t\n\t\tthis.register(\"getFooterClient\",Meteor.subscribe('getFooterClient',params.titulo));\n\t\tthis.register(\"getFooterLinksClient\",Meteor.subscribe('getFooterLinksClient',params.titulo));\n\t\t\n\t},\n\n});","import { Meteor } from 'meteor/meteor';\nimport { FilesCollection } from 'meteor/ostrio:files';\nimport { Mongo } from \"meteor/mongo\";\n\n\nSITIO = new Mongo.Collection('sitio');\n\nvar sitioSchema = new SimpleSchema({\n\n    titulo : {\n        type:String,\n    },\n    carrera : {\n        type : String\n    },\n    creado: {\n        type : Date,\n        autoValue: function\t(){\n        \treturn new Date();\n        }\n    },\n    estado : {\n        type : String\n    },\n    admin : {\n        type : String\n    }\n\n});\nSITIO.attachSchema(sitioSchema);\n\n\nBANNER = new Mongo.Collection('banner')\n\nvar bannerSchema =new SimpleSchema({\n    idSitio :{\n        type:String,\n    },\n    tipo : {\n        type:String,//DEFAULT TEXTO E IMAGEN\n    },\n    texto :{\n        type:String,//titulo o lorem ipsum\n    },\n    imagen :{\n        type:String,//link de una imagen por defecto\n    },\n    textoPersonalizado :{\n        type:String,// la parte de html libre\n    },\n\n});\n\nBANNER.attachSchema(bannerSchema);\n\nCARROUSEL = new Mongo.Collection('carrousel') ///SE asocia directamnet al sitio Â¡Â¡Â¡ solo un carrusel\n\nvar carrouselSchema =new SimpleSchema({\n    idSitio :{\n        type:String,\n    },\n    titulo : {\n        type:String,//DEFAULT TEXTO E IMAGEN\n    },\n    texto :{\n        type:String,//\n    },\n    imagen :{\n        type:String,//link de una imagen por defecto\n    },\n    link:{\n        type:String,//link del boton\n        optional : true\n    },\n});\n\nCARROUSEL.attachSchema(carrouselSchema);\n\nHEADER = new Mongo.Collection('header')\n\nvar headerSchema =new SimpleSchema({\n\n    idSitio :{\n        type:String,\n    },\n    titulo : {\n        type:String,\n    },\n    subtitulo : {\n        type : String,\n        optional : true\n    },\n    tipoFondo : {\n        type : String //si es color o imagen\n    },\n    fondo : {\n        type : String //link o el color\n    },\n    fuente : {\n        type:String\n    },\n    logo1 : {\n        type : String,\n        optional : true\n    },\n    logo2 : {\n        type : String,\n        optional : true\n    },\n    posicion : {\n        type : String,\n    }\n});\nHEADER.attachSchema(headerSchema);\n\nNAVBAR = new Mongo.Collection('navbar')\n\nvar navbarSchema =new SimpleSchema({\n    idSitio : {\n        type:String,\n    },\n    color : {\n        type : String\n    },\n    fuente : {\n        type : String\n    }\n});\nNAVBAR.attachSchema(navbarSchema);\n\nMENU = new Mongo.Collection('menu')\n\nvar menuSchema = new SimpleSchema({\n\n    /*idNavbar :{\n        type:String,\n    },---- mientars no haya problema con referencia al navbar*/\n    nombre : {\n        type:String,\n    },\n    link : {\n        type : String\n    },\n    tipo : {\n        type : String //normal o con submenu\n    },\n    idSitio : {\n        type : String //aqui va el id del sitio\n    },\n    estado : {\n        type : String //activo o inactivo\n    },\n    contenido : {\n        type : String //si ya tiene contenido  \n    }\n\n});\nMENU.attachSchema(menuSchema);\n\nSUBMENU = new Mongo.Collection('submenu')\n\nvar submenuSchema =new SimpleSchema({\n    idSitio : {\n        type:String,\n    },\n    idMenu : {\n        type:String,\n    },\n    nombre : {\n        type:String,\n    },\n    link : {\n        type : String\n    },\n    estado : {\n        type : String //activo o inactivo\n    }\n});\nSUBMENU.attachSchema(submenuSchema);\n// Aqui termna todo del navbar\n\nCUERPO = new Mongo.Collection('cuerpo')\n\nvar cuerpoSchema =new SimpleSchema({\n\n    idSitio : {\n        type:String,\n    },\n    tipoFondo : {\n    \ttype : String //si es color o imagen\n    },\n    fondo : {\n    \ttype : String //link o el color\n    }\n});\nCUERPO.attachSchema(cuerpoSchema);\n\nCONTENIDO = new Mongo.Collection('contenido')\n\nvar contenidoSchema =new SimpleSchema({\n    \n    idSitio : {\n        type:String,\n    },\n    idMenu : {\n        type:String,\n    },\n    titulo : {\n        type : String\n    },\n    ruta : {\n        type : String\n    },\n    descripcion : {type : String},\n    \n    contenidoHtml : {type : String},\n    \n    imagenDesc : {\n        type : String,//src de la imagen desc\n    },\n    comentarios : {\n        type : String\n    },\n    visible : {\n        type : String\n    },\n    creado: {\n        type : Date,\n        autoValue: function (){\n            return new Date();\n        }\n    },\n    lastEdit : {\n        type : Date,\n        optional : true\n    }\n});\nCONTENIDO.attachSchema(contenidoSchema);\n\nCOMENTARIO = new Mongo.Collection('comentario')\n\nvar comentarioSchema =new SimpleSchema({\n    /*\n    idSitio : {\n        type:String,\n    },\n    \n    idMenu : {\n        type:String,\n    },*/\n\n    idContenido : {\n        type : String\n    },\n    texto : {\n        type : String\n    },\n    idUsuario : {\n        type : String\n    },\n    estado :  {\n        type : String//visible u oculto(baneado)\n    },\n    creado: {\n        type : Date,\n        autoValue: function (){\n            return new Date();\n        }\n    },\n    lastEdit : {\n        type : Date,\n        optional : true\n    }\n});\nCOMENTARIO.attachSchema(comentarioSchema);\n\n// REVISAR SIDEBAR\nSIDEBARMENU = new Mongo.Collection('sidebarmenu')\n\nvar sidebarMenuSchema =new SimpleSchema({\n\n    idSitio : {\n        type:String,\n    },\n    tipoFondo : {\n    \ttype : String //si es color o imagen\n    },\n    fondo : {\n    \ttype : String //link de la imagen o el color\n    },\n    fuente : {\n        type : String\n    },\n    tipo :  {\n        type : String\n    },\n    html :  {\n        type : String,\n        optional : true\n    },\n});\n\nSIDEBARMENU.attachSchema(sidebarMenuSchema);\n\nMENUENLACE =new Mongo.Collection('menuenlace')\n\nvar menuenlaceSchema =new SimpleSchema({\n\n    idSitio :{\n        type:String,\n    },\n    nombre : {\n        type : String\n    },\n    posicion : {\n        type : String\n    },\n    estado : {\n        type : String\n    }\n});\nMENUENLACE.attachSchema(menuenlaceSchema);\n\nENLACE =new Mongo.Collection('enlace')\n\nvar enlaceSchema =new SimpleSchema({\n\n    idSitio : {\n        type:String,\n    },\n    idMenu : {\n        type:String,\n    },\n    nombre : {\n        type : String\n    },\n    url : {\n        type : String\n    }\n});\nENLACE.attachSchema(enlaceSchema);\n\n\nFOOTER = new Mongo.Collection('footer')\n\nvar footerSchema =new SimpleSchema({\n\n    idSitio :{\n        type:String,\n    },\n    //el fondo es copia del navbar\n    fuente : {\n        type : String\n    },\n    texto : {\n    \ttype : String // pore el momento se pueden add mas cosas (menus.etc)\n    },\n    tipo : {\n        type : String // tipo de footer default o personalizado\n    },\n    html : {\n        type : String, // codigo html personalizado\n        optional: true\n    },\n\n});\nFOOTER.attachSchema(footerSchema);\n\nFOOTERLINKS = new Mongo.Collection('footerlinks')\n\nvar footerlinksSchema =new SimpleSchema({\n\n    idSitio :{\n        type:String,\n    },\n    icono : {\n        type : String \n    },\n    link : {\n        type : String\n    }    \n\n});\nFOOTERLINKS.attachSchema(footerlinksSchema);\n\n\n//Archivos con ostrio\nvar defaultSchema = {\n  size: {\n    type: Number\n  },\n  name: {\n    type: String\n  },\n  type: {\n    type: String\n  },\n  path: {\n    type: String\n  },\n  isVideo: {\n    type: Boolean\n  },\n  isAudio: {\n    type: Boolean\n  },\n  isImage: {\n    type: Boolean\n  },\n  isText: {\n    type: Boolean\n  },\n  isJSON: {\n    type: Boolean\n  },\n  isPDF: {\n    type: Boolean\n  },\n  extension: {\n    type: String,\n    optional: true\n  },\n  _storagePath: {\n    type: String\n  },\n  _downloadRoute: {\n    type: String\n  },\n  _collectionName: {\n    type: String\n  },\n  public: {\n    type: Boolean,\n    optional: true\n  },\n  meta: {\n    type: Object,\n  },\n  userId: {\n    type: String,\n    optional: true\n  },\n  updatedAt: {\n    type: Date,\n    optional: true\n  },\n  versions: {\n    type: Object,\n    blackbox: true\n  }\n}\nconst newMeta = {\n    'meta.idSitio': {\n        type: String\n      }\n}\n_.extend(defaultSchema,newMeta);\n//console.log(defaultSchema);\nIMAGES = new FilesCollection({\n  collectionName: 'images',\n  allowClientCode: false, // Disallow remove files from Client\n  schema : defaultSchema,\n  storagePath : '/uatfcms/data',\n  downloadRoute : '/uatfcms/data/downloads',\n  allowClient : false,\n  onBeforeUpload(file) {\n    //console.log(file);\n    // Allow upload files under 10MB, and only in png/jpg/jpeg formats\n    if (file.size <= 10485760 && /png|jpg|jpeg|bmp|gif|tif/i.test(file.extension)) {\n      return true;\n    } else {\n      return 'Please upload image, with size equal or less than 10MB';\n    }\n  }\n});\n\n\n_.extend(defaultSchema,newMeta);\nIMAGES.collection.attachSchema(new SimpleSchema(defaultSchema));\n\nAVATARS = new FilesCollection({\n  collectionName: 'avatars',\n  allowClientCode: false, // Disallow remove files from Client\n  storagePath : '/uatfcms/data',\n  downloadRoute : '/uatfcms/data/downloads',\n  allowClient : false,\n\n  onBeforeUpload(file) {\n    // Allow upload files under 10MB, and only in png/jpg/jpeg formats\n    if (file.size <= 10485760 && /png|jpg|jpeg|bmp|gif/i.test(file.extension)) {\n      return true;\n    } else {\n      return 'Por favor sube una image valida, con un tamaÃ±o menor o igual a 10MB';\n    }\n  }\n});\n\n\n//pending\n\n\nVIDEOS = new FilesCollection({\n  collectionName: 'videos',\n  //allowClientCode: false, // Disallow remove files from Client\n  storagePath : '/uatfcms/data',\n  downloadRoute : '/uatfcms/data/downloads',\n  allowClient : false,\n  schema : defaultSchema,\n  onBeforeUpload(file) {\n    // Allow upload files under 100MB, and only in png/jpg/jpeg formats\n    if (file.size <= 2097143200 && /avi|mp4|m4a|mpeg|mov|rm|flv|div|mpg|mkv|wmv|wma|vob|qt|qtl|ogv/i.test(file.extension)) {\n      return true;\n    } else {\n      return 'Por favor sube un video valido , con un tamaÃ±o menor o igual 200MBs';\n    }\n  }\n});\nVIDEOS.collection.attachSchema(new SimpleSchema(defaultSchema));\n\nARCHIVOS = new FilesCollection({\n  collectionName: 'archivos',\n  allowClientCode: false, // Disallow remove files from Client\n  storagePath : '/uatfcms/data',\n  downloadRoute : '/uatfcms/data/downloads',\n  allowClient : false,\n  schema : defaultSchema,\n  onBeforeUpload(file) {\n    ///console.log(file);\n    // Allow upload files under 100MB, and only in png/jpg/jpeg formats\n    if (file.size <= 208908200 && !/autorun|inf|bat|pif|scr|com|cmd|job|lnk|prf|reg|tmp|xnk|htm|html|js/i.test(file.extension)) {\n      return true;\n    } else {\n      return 'Por favor sube un archivo valido (Documento,Instalador,comprimido,etc),\\n Con un tamaÃ±o menor o igual 200MBs';\n    }\n    \n  }\n});\nARCHIVOS.collection.attachSchema(new SimpleSchema(defaultSchema));\n","import { Meteor } from 'meteor/meteor';\n\nMeteor.startup(() => {\n  // code to run on server at startup\n  reCAPTCHA.config({\n        privatekey: '6LdwFG8UAAAAAFQf2JQ-nsi3BZ01yzvEZYZ7xPVn'\n    });\n  Meteor.methods({\n    checkBan : function(){\n      var user = Meteor.users.findOne({_id:this.userId,'profile.bloqueado':true});      \n      if (user!=undefined) {\n        return true;\n      }\n      return false;\n    },\n    checkCaptcha: function(captchaData) {\n\n        var verifyCaptchaResponse = reCAPTCHA.verifyCaptcha(this.connection.clientAddress, captchaData);\n        //console.log(verifyCaptchaResponse);\n        if (!verifyCaptchaResponse.success) {\n            //console.log('reCAPTCHA check failed!', verifyCaptchaResponse);\n            throw new Meteor.Error(422, 'reCAPTCHA Failed: ' + (verifyCaptchaResponse.error || \"Timeout or duplicate\"));\n            return  false;\n        } else{\n          //console.log('reCAPTCHA verification passed!');\n          return true;\n        }\n    },\n    \"checkLoginRoot\" : function(user,email){\n      var rootUs = Meteor.users.findOne({_id:this.userId,username:'root','emails.address':'root@gmail.com'});\n      if (rootUs!=undefined) {\n        Roles.addUsersToRoles(this.userId, ['root']);\n        return true;\n      }\n      return false;\n    },\n    checkRol : function(){      \n      if (Roles.userIsInRole(this.userId,'root')) {\n        return {tipo:'root'};\n      }\n      if (Roles.userIsInRole(this.userId,'admin')) {\n        return {tipo:'admin'};\n      }\n      return {tipo:'normal'};\n    },\n    setRol :function(rol,idUser){\n      //is in role falta\n      Roles.addUsersToRoles(idUser, [rol]);\n      //console.log(idUser+'---'+rol);\n    },\n    changeRol :function(rol,idUser){\n      //is in role falta\n      Roles.setUserRoles(idUser, [rol]);\n      //console.log(idUser+'---'+rol);\n      return true;\n    },\n    ///////// SITIO METHODS BEGIN\n    checkSitio : function (titulo){\n      var sitio = SITIO.findOne({titulo:titulo});\n      if (sitio == undefined+1) {\n        return true;\n      }\n      return  false;\n    },\n    checkIfExistSitio : function (titulo){\n      var sitio = SITIO.findOne({titulo : titulo});\n      if (sitio != undefined) {\n        return true;\n      }\n      return false;\n    },\n    checkIfExistMenu : function (link){\n      var menu = MENU.findOne({link : link});\n      if (menu != undefined) {\n        return true;\n      }\n      return false;\n    },\n    insertSitio : function(obj){\n      var response = 'error en la insercion';\n      return SITIO.insert(obj,function(error,result){          \n        \tif (result) {\n            HEADER.insert({\n              idSitio:result,titulo:obj.carrera,subtitulo:'Subtitulo del Sitio',tipoFondo:'ninguno',\n              fondo:'ninguno',fuente:'Arial',logo1:'logo1.jpg',logo2:'logo2.jpg',posicion:'up',tipo : 'default'\n            });\n            NAVBAR.insert({idSitio:result,color:'seablue',fuente:'Arial'});\n            MENU.insert({nombre:\"INICIO\",link:\"/\",tipo:'normal',idSitio:result,estado:\"activo\",contenido : \"Si\"});\n            MENU.insert({nombre:\"EVENTOS\",link:\"eventos\",tipo:'normal',idSitio:result,estado:\"activo\",contenido : \"Si\"});\n            MENU.insert({nombre:\"BOLETINES\",link:\"boletines\",tipo:'normal',idSitio:result,estado:\"activo\",contenido : \"Si\"});\n            CUERPO.insert({idSitio:result,tipoFondo:'color',fondo:'#f5f6f8'});\n            SIDEBARMENU.insert({\n              idSitio:result,tipoFondo:'color',fondo:'seablue',fuente:'Times New Roman',tipo:'default',html:'<div>Sidebar Personalizado </div>'\n            });\n            FOOTER.insert({\n              idSitio:result, fuente:'Arial', texto:obj.carrera+' '+ new Date().getFullYear(),tipo:'default',html:'<div>Footer Personalizado </div>'\n            });\n            BANNER.insert({\n              idSitio:result, tipo:'texto e imagen', \n              texto:obj.carrera,imagen:'/students.jpg',\n              textoPersonalizado:'<div class=\"bg-primary p-5 m-5\" style=\"height:25vw\"><span class=\"text-white\">Texto Personalizado </span></div>'\n            });\n            response = \"Se creÃ³ el Sitio Web\" ;\n          }\n          if (error) {\n            console.log(error);\n          }\n          return response;\n        });    \n    },\n    checkSiteRoute : function (idSitio){\n\n      if (Roles.userIsInRole(this.userId,'admin')) {\n        var sitioAdmin = SITIO.findOne({admin:this.userId,_id:idSitio});\n        if (sitioAdmin != undefined) {\n          return {check : true};\n        }\n        return {check : false,rol:'admin'};\n      }  \n      if (Roles.userIsInRole(this.userId, 'root') ) {       \n          var sitio = SITIO.findOne({_id:idSitio});\n          \n          var sitioExist = false;       \n\n          if (sitio != undefined) {\n              sitioExist = true;\n          }\n          return {check : sitioExist,rol:'root'};\n      }\n      return {check : false,rol:''};\n      \n    },\n    redirectUser : function (){\n\n     \n      if (Roles.userIsInRole(this.userId,'admin')) {\n        \n        return {res : true,rol:'admin'};\n      }  \n      if (Roles.userIsInRole(this.userId, 'root') ) {       \n                  \n          return {res : true,rol:'root'};\n      }\n      return {res:false,rol:''}; \n    },\n    checkRolRoot : function(){\n      if (Roles.userIsInRole(this.userId,'root')) {\n        \n        return {res : true };\n      }\n      if (Roles.userIsInRole(this.userId,'admin')) {\n        \n        return {res : false ,route : 'admin'};\n      }\n      return {res : false ,route : ''};\n    },\n\n    trackUser : function(obj){\n       //console.log(this.connection);\n      //ip = this.connection.clientAddress; en produccion\n      //console.log(JSON.parse('http://jsonip.com?callback=?'));\n\n      /*\n      $.getJSON('http://jsonip.com?callback=?', function(json, textStatus) {\n          \n          console.log(json);\n      });*/\n      //return HTTP.get('http://jsonip.com?callback=?').data.ip;\n      var ipLocal = this.connection.clientAddress;\n    },\n\n    crearUser : function (user,rol){      \n      var newUser = {\n        username : user.username,\n        password : user.password,\n        email : user.email,\n        profile: {\n          name: user.name,\n          surname : user.surname,\n          carrera : user.carrera,\n          online : true,\n          bloqueado : false,\n          img : 'none'\n        }\n      };       \n      var account = Accounts.createUser(newUser);\n      if (account) {     \n        Roles.addUsersToRoles(account, [rol]);\n      }     \n      return account;\n    },\n    darEstado : function(id,estado){\n      return SITIO.update({_id:id}, {$set:{estado:estado}});\n    },\n    changeAdmin : function (sitio,set){\n      return SITIO.update(sitio, {$set:set});\n      //console.log(change);\n      \n    },\n    setNewPassword : function(userId,newPassword){\n      \n      Accounts.setPassword(userId, newPassword,{logout:false});\n      return true; \n    },\n    editUser : function (id,obj){\n      //console.log(id);\n      return Accounts.users.update({_id:id}, {$set:obj});\n    }, \n    ////////SITIO METHODS BEGIN//////////\n\n    ////////HEADER METHODS BEGIN//////////\n\n    editHeader : function (id,obj){\n      return HEADER.update({_id:id}, {$set:obj});\n    },  \n    \n    ////////HEADER METHODS END//////////\n    ////////BANNER METHODS BEGIN//////////\n    bannerChange : function (id,obj){\n      if (obj.tipo == 'carrusel') {\n          var carrusel = CARROUSEL.findOne({idSitio : id});\n          if (carrusel == undefined) {\n            CARROUSEL.insert({\n              idSitio:id,titulo:'Titulo',texto:'Algun texto',imagen:'/students.jpg',link:''\n            });\n            CARROUSEL.insert({\n              idSitio:id,titulo:'Titulo',texto:'Algun texto',imagen:'/graduacion.jpg',link:''\n            });\n          }\n      }\n      return BANNER.update({idSitio:id}, {$set:obj});\n    },\n    insertCarrusel : function(obj){ \n      var response= 'error';\n      //console.log(contador);\n      return CARROUSEL.insert(obj, function(e,r){\n        if (e) {\n          response = e;\n          console.log(e);\n        }if (r) {\n          response = r;\n          console.log(r);\n        }\n        return response;\n      });      \n    },\n    editCarrusel : function (id,obj){\n      return CARROUSEL.update({_id:id}, {$set:obj});\n    },\n    editBannerHtml :function(id,html){\n      return BANNER.update({_id:id}, {$set:{textoPersonalizado:html}});\n    }, \n    editBanner :function(id,obj){\n      return BANNER.update({_id:id}, {$set:obj});\n    },\n    ////////BANNER METHODS END//////////\n    ////////NAVBAR METHODS BEGIN//////////\n    navbarChange : function (id,obj){\n      return NAVBAR.update({idSitio:id}, {$set:obj});\n    },\n    insertMenu : function(obj){\n      var res = 'error';\n      return MENU.insert(obj,function(error,result){        \n        if (result) {\n          res = 'se inserto el menu';\n        }\n        return res;\n      });\n    },\n    editMenu : function(id,obj){\n      return MENU.update({_id:id}, {$set:obj});\n    },\n    darEstadoMenu : function(id,estado){\n      return MENU.update({_id:id}, {$set:{estado:estado}});\n    },\n    darEstadoSubmenu : function(id,estado){\n      return SUBMENU.update({_id:id}, {$set:{estado:estado}});\n    },\n    insSubmenu : function (obj){\n      \n      var response = 'error';\n      return SUBMENU.insert(obj, function(e,r){\n        if (e) {\n          response = e;\n        }if (r) {\n          response = r;\n        }\n        return response;\n      });    \n    },\n    editSubmenu : function (id,obj){\n      \n      return SUBMENU.update({_id:id},{$set:obj});      \n    },\n    ////////NAVBAR METHODS END//////////\n    ////////CONTENT METHODS BEGIN//////////\n    changeColorBody : function (idSitio,color){\n      return  CUERPO.update({idSitio : idSitio}, {$set:{fondo : color}});\n    },\n    insContent : function(obj){      \n      var response= 'error';\n      return CONTENIDO.insert(obj, function(e,r){\n        if (e) {\n          response = e;\n          console.log(e);\n        }if (r) {\n          console.log(r);\n          response = \"Se inserto el contenido\";\n          MENU.update({_id : obj.idMenu}, {$set : {contenido : 'Si'}});\n        }\n        return response;\n      });\n    },\n    editContent : function (idCont,obj){\n      return  CONTENIDO.update({_id : idCont}, {$set:obj});\n    },\n    visibilityContent : function(idCont,obj){\n      return CONTENIDO.update({_id : idCont}, {$set : obj});\n    },\n\n    insComentario : function(obj){\n      return COMENTARIO.insert(obj);\n    },\n    banComentUser : function(){\n      Accounts.users.update({_id : this.userId}, {$set : {'profile.bloqueado' : true}});\n    },\n\n    ////////CONTENT METHODS END//////////\n    ////////SIDEBAR METHODS BEGIN//////////\n    sidebarChange : function (idSitio,obj){      \n      return SIDEBARMENU.update({idSitio:idSitio}, {$set:obj});\n    },\n    editsidebarHtml  : function(idSitio,obj){    \n      return SIDEBARMENU.update({idSitio:idSitio},{$set:obj});\n    },\n    insMenuEnlace : function (obj){\n      var contador = MENUENLACE.find({idSitio:obj.idSitio}).count();\n      var response = 'error';\n      return MENUENLACE.insert({\n        idSitio:obj.idSitio,nombre:obj.nombre,posicion:contador+1,estado:'Activo'\n      }, function(e,r){\n        if (e) {\n          console.log(e);\n        }if (r) {\n          response = r;\n        }\n        return response;\n      });      \n    },\n    darEstadoSidebar : function (id,estado){\n      return MENUENLACE.update({_id:id},{$set:{estado:estado}});      \n    },\n      \n    \n    insEnlace : function(obj){\n      var response= 'error';\n      return ENLACE.insert(obj, function(e,r){\n        if (e) {\n          response = e;\n          console.log(e);\n        }if (r) {\n          response = r;\n          //console.log(r);\n        }\n        return response;\n      });\n    },\n    editmenuenlace : function(nombre,idmenu){\n      \n      return MENUENLACE.update({_id:idmenu}, {$set:{nombre:nombre}});\n    },\n    editEnlace : function(obj,idenlace){\n      \n      return ENLACE.update({_id:idenlace}, {$set:obj});\n    },\n    eliEnlace  : function(idenlace){\n      var response = false;\n      return ENLACE.remove({_id:idenlace});\n    },\n\n    //////// SIDEBAR METHODS END //////////\n\n    ////////FOOTER METHODS BEGIN//////////\n    editFooter : function(texto,idfooter){\n    \n      return FOOTER.update({_id:idfooter},{$set:{texto:texto}});\n    },\n    editFooterHtml  : function(idSitio,obj){\n    \n      return FOOTER.update({idSitio:idSitio},{$set:obj});\n    },\n    footerChange : function (id,obj){      \n      return FOOTER.update({idSitio:id}, {$set:obj});\n    },\n    insLinkFooter : function(obj){\n      var response= 'error';\n      return FOOTERLINKS.insert(obj, function(e,r){\n        if (e) {\n          response = e;\n          console.log(e);\n        }if (r) {\n          response = r;\n          //console.log(r);\n        }\n        return response;\n      });\n    },\n    editLinkFooter : function (idlink,obj){      \n      return FOOTERLINKS.update({_id : idlink}, {$set:obj});\n    },\n    eliLinkFooter : function (idlink){      \n      return FOOTERLINKS.remove({_id : idlink});\n    },\n    //////// SITE METHODS BEGIN //////////\n    insComentario : function(obj){\n      var response = 'error';\n      return COMENTARIO.insert(obj, function(e,r){\n        if (e) {\n          console.log(e);\n        }if (r) {\n          response = r;\n          //console.log(r);\n        }\n        return response;\n      });\n    }\n\n\n    ////////SITE METHODS END//////////\n  });\n\n});\n\n","import { Meteor } from 'meteor/meteor';\nimport { publishComposite } from 'meteor/reywood:publish-composite';\n\nMeteor.startup(() => {\n  // code to run on server at startup\n  //Publicaciones de ROOT\n  Meteor.publish(\"getSitios\",function(){\n    return SITIO.find();\n  });\n  Meteor.publish(\"getUsers\",function(){\n    return Meteor.users.find();\n  });\n  //Publicaciones de ADMIN\n  Meteor.publish(\"getSitiosAdmin\",function(admin){\n    return SITIO.find({admin:admin});\n\n    });\n  Meteor.publish(\"getSitio\",function(idSitio){\n    return SITIO.find({_id:idSitio});\n    });\n\n  Meteor.publish(\"getHeader\",function(idSitio){\n    return HEADER.find({idSitio:idSitio});\n\n    });\n  Meteor.publish(\"getBanner\",function(idSitio){\n    return BANNER.find({idSitio:idSitio});\n\n    });\n  Meteor.publish(\"getCarrusel\",function(idSitio){\n    return CARROUSEL.find({idSitio:idSitio});\n\n    });\n  \n  Meteor.publish(\"getSidebar\",function(idSitio){\n    return SIDEBARMENU.find({idSitio:idSitio});\n\n    });\n  Meteor.publish(\"getMenu\",function(idSitio){\n    return MENU.find({idSitio:idSitio});\n\n    });\n\n  Meteor.publish(\"getNavbar\",function(idSitio){\n    return NAVBAR.find({idSitio:idSitio});\n    });\n  Meteor.publish(\"getCuerpo\",function(idSitio){\n    return CUERPO.find({idSitio:idSitio});\n    });\n  Meteor.publish(\"getMenuEnlace\",function(idSitio){\n    return MENUENLACE.find({idSitio:idSitio});\n  });\n\n  Meteor.publish(\"getEnlaces\",function(idMenu){\n    return ENLACE.find({idMenu:idMenu});\n  });\n  Meteor.publish(\"getFooter\",function(idSitio){\n    //console.log(idSitio);\n    return FOOTER.find({idSitio:idSitio});\n  });\n  Meteor.publish(\"getFooterLinks\",function(idSitio){\n    //console.log(idSitio);\n    return FOOTERLINKS.find({idSitio:idSitio});\n  });\n  Meteor.publish(\"getSubmenu\",function(idSitio){\n    //console.log(idSitio);\n    return SUBMENU.find({idSitio:idSitio});\n  });\n  Meteor.publish(\"getContenidos\",function(idMenu){\n    //console.log(idMenu);\n    return CONTENIDO.find({idMenu:idMenu});\n  });\n  Meteor.publish(\"getContenido\",function(idCont){\n    //console.log(idMenu);\n    return CONTENIDO.find({_id:idCont});\n  });\n  Meteor.publish(\"getOneMenu\",function(idMenu){\n    return MENU.find({_id:idMenu});\n\n    });\n  Meteor.publish(\"getOneSubmenu\",function(idSubMenu){\n  \n    return SUBMENU.find({_id:idSubMenu});\n  });\n  Meteor.publish(\"getImages\",function(idSitio){\n    return IMAGES.find({'meta.idSitio' : idSitio}).cursor;\n  });\n  Meteor.publish(\"getVideos\",function(idSitio){\n    return VIDEOS.find({'meta.idSitio' : idSitio}).cursor;\n  });\n  Meteor.publish(\"getArchivos\",function(idSitio){\n    return ARCHIVOS.find({'meta.idSitio' : idSitio}).cursor;\n  });\n  /////// Publicaciones de user\n  Meteor.publish(\"getSitioClient\",function(sitio){\n    return SITIO.find({titulo:sitio});\n    });\n  Meteor.publish(\"getHeaderClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return HEADER.find({idSitio:idSitio._id});\n    }\n    });\n\n  Meteor.publish(\"getNavbarClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return NAVBAR.find({idSitio:idSitio._id});\n    }\n  });\n  Meteor.publish(\"getCarruselClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return CARROUSEL.find({idSitio:idSitio._id});\n    }\n  });\n  Meteor.publish(\"getBannerClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return BANNER.find({idSitio:idSitio._id});\n    }\n    });\n  Meteor.publish(\"getMenuClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return MENU.find({idSitio:idSitio._id});\n    }\n    \n  });\n  Meteor.publish(\"getCuerpoClient\",function(titulo){\n    //console.log(titulo);\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      //console.log(CUERPO.find({idSitio:idSitio._id}));\n      return CUERPO.find({idSitio:idSitio._id});\n    }\n    \n  });\n  Meteor.publish(\"getSidebarClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return SIDEBARMENU.find({idSitio:idSitio._id});\n    }\n  });\n  Meteor.publish(\"getSidebarMenuClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return MENUENLACE.find({idSitio:idSitio._id});\n    }\n\n  });\n  Meteor.publish(\"getMenuenlaceClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {      \n      return ENLACE.find({idSitio:idSitio._id});\n    }\n\n  });\n  Meteor.publish(\"getFooterClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return FOOTER.find({idSitio:idSitio._id});\n    }\n\n  });\n  Meteor.publish(\"getFooterLinksClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return FOOTERLINKS.find({idSitio:idSitio._id});\n    }\n\n  });\n  Meteor.publish(\"getSubmenuClient\",function(titulo){\n    var idSitio = SITIO.findOne({titulo:titulo});\n    if (idSitio!=undefined) {\n      return SUBMENU.find({idSitio:idSitio._id});\n    }\n\n  });\n\n  Meteor.publish(\"getContenidosMenuClient\",function(tituloSitio , linkMenu){\n    //por el momento solo menus en el caso de ser submenus deberia hacerse de otra manera menu y submenu ambos \n    \n    var sitio = SITIO.findOne({titulo : tituloSitio});\n    //CONTRLAR INDEF\n    var menu = MENU.findOne({link : linkMenu, idSitio : sitio._id});\n    \n\n    if (menu != undefined && sitio != undefined) {\n      //console.log(CONTENIDO.find({idMenu : menu._id}).fetch());\n      return CONTENIDO.find({idMenu : menu._id});\n    \n    }\n  });\n  Meteor.publish(\"getContenidosSubmenuClient\",function(tituloSitio , linkSubmenu){\n    //por el momento solo menus en el caso de ser submenus deberia hacerse de otra manera menu y submenu ambos \n    \n    var sitio = SITIO.findOne({titulo : tituloSitio});\n    //CONTRLAR INDEF\n    var submenu = SUBMENU.findOne({link : linkSubmenu, idSitio : sitio._id});\n    \n\n    if (submenu != undefined && sitio != undefined) {\n      //console.log(CONTENIDO.find({idMenu : menu._id}).fetch());\n      return CONTENIDO.find({idMenu : submenu._id});\n    \n    }\n  });\n  //RECIBIR NOMBRE PARAMETRO\n  Meteor.publish(\"getHomeContentClient1\",function(titulo){\n    var sitio = SITIO.findOne({titulo:titulo});\n     if (sitio!=undefined) {\n      var menu = MENU.findOne({nombre : \"BOLETINES\", idSitio : sitio._id});\n      return CONTENIDO.find({idSitio:sitio._id,idMenu : menu._id,visible:\"visible\"},{limit : 2});\n    }\n  });\n  Meteor.publish(\"getHomeContentClient2\",function(titulo){\n    var sitio = SITIO.findOne({titulo:titulo});\n     if (sitio!=undefined) {\n      var menu = MENU.findOne({nombre : \"EVENTOS\", idSitio : sitio._id});\n      return CONTENIDO.find({idSitio:sitio._id,idMenu : menu._id,visible:\"visible\"},{limit : 4});\n    }\n  });\n  Meteor.publish(\"getMContentClient\",function(titulo,menu,contenido){\n    var sitio = SITIO.findOne({titulo:titulo});\n     if (sitio!=undefined) {\n      var menu = MENU.findOne({link : menu, idSitio : sitio._id});\n      return CONTENIDO.find({idSitio:sitio._id,idMenu : menu._id, ruta : contenido});\n    }\n  });\n\n  Meteor.publish(\"getSContentClient\",function(titulo,submenu,contenido){\n    var sitio = SITIO.findOne({titulo:titulo});\n    \n    if (sitio!=undefined) {\n      var submenu = SUBMENU.findOne({link : submenu, idSitio : sitio._id});\n      return CONTENIDO.find({idSitio:sitio._id,idMenu : submenu._id, ruta : contenido});\n    }\n  });\n  publishComposite(\"getComentsClient\",function(titulo,link,ruta,tipoMenu){\n    \n    var sitio = SITIO.findOne({titulo : titulo});\n    \n    var menu ;\n\n    var content = undefined;\n    //console.log(sitio._id +' sitio --'+ tipoMenu);\n\n    if (tipoMenu == 'menu') {      \n      menu = MENU.findOne({link : link,idSitio : sitio._id});   \n    }\n    else if (tipoMenu == 'submenu') {      \n      menu = SUBMENU.findOne({link : link,idSitio : sitio._id});\n    }\n    //console.log(menu.idSitio +' res');\n    \n    if (sitio != undefined && menu != undefined) {      \n      content = CONTENIDO.findOne({ruta:ruta,idMenu : menu._id,idSitio : sitio._id});\n    }\n    if (content!=undefined && sitio != undefined && menu != undefined) {\n      return {\n        find() {            \n            return COMENTARIO.find({idContenido : content._id,estado : 'visible'});\n        },\n        children: [{\n            find(coment) {\n                // Find post author. Even though we only want to return\n                // one record here, we use \"find\" instead of \"findOne\"\n                // since this function should return a cursor.\n                return Meteor.users.find(\n                    { _id: coment.idUsuario },\n                    { fields: { profile: 1 ,username:1} });\n            }\n        }]\n      }\n      \n    }else{\n      console.log('eroor');\n    }\n    \n  });\n  \n});\n\n","import { Meteor } from 'meteor/meteor';\nimport './methods.js';\nimport './publications.js';\nMeteor.startup(() => {\n  // code to run on server at startup\n\n    \nHTTP_FORWARDED_COUNT = 1;\n});\n"]}